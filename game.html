<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>game</title>
	<style>
		canvas {
			border: 1px black solid;
		}
	</style>
</head>
<body>
	<canvas id="id-canvas" width="300" height="500"></canvas>

	<script>
		var log = console.log.bind(console);

		var canvas = document.querySelector('#id-canvas');
		var context = canvas.getContext('2d');

		var x = 150;
		var y = 200;
		var img = new Image();
		img.src = './img/bird.png';
		img.onload = function() {
			context.drawImage(img, x, y);
		}


		var leftPress = false;
		var rightPress = false;
		var speed = 6;

		// events
		window.addEventListener('keydown', function(event) {
			log('keydown')
			// log(event)
			var k = event.key;
			if (k == 'a') {
				leftPress = true;
			} else if (k == 'd') {
				rightPress = true;
			}
		});

		window.addEventListener('keyup', function(event) {
			log('keyup')
			// log(event)
			var k = event.key;
			if (k == 'a') {
				leftPress = false;
			} else if (k == 'd') {
				rightPress = false;
			}
		});

		setInterval(function() {
			if (leftPress) {
				x -= speed;
			} else if (rightPress) {
				x += speed;
			}
			context.clearRect(0, 0, canvas.width, canvas.height);
			context.drawImage(img, x, y);
		}, 1000/30);

	</script>
</body>
</html>